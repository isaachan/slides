<!DOCTYPE HTML>
<html lang="en">
  <head>
    <title>Programming Language Landscape</title>
    <meta name="viewport" content="width=1024" />
    <meta charset='utf-8' />
    <link href='css/impress-demo.css' rel='stylesheet' />
    <link href='css/classic-slides.css' rel='stylesheet' />
    <link href='css/customize.css' rel='stylesheet' />
    <link href='css/scoll.css' rel='stylesheet' />    
  </head>

  <body class="impress-not-supported">
    <div id='impress'>
      <div class="step slide topic" data-x="0" data-y="0">
        <q>Programming Language Landscape</q>
        <div>Han Kai</div>
        <div>isaachanstar@gmail.com</div>
      </div>

      <div id="intro" class="step" data-x="1000" data-y="0">
        <div>The People's Bank of China</div>
        <div><b>Thought</b>Works, <i>Continous Delivery Practice Lead for China</i></div>
        <div>Speakers, <a href="http://2017.qconbeijing.com/"><i>QCon</i></a>, <a href="www.tid.org.cn"><i>Tid</i></a>, <a href="http://100tophospitals.com/"><i>TOP100 Summit</i></a>...</div>
        <div>Editor, <a href="www.infoq.com/cn"><i>InfoQ</i></a></div> 
      </div>

      <div class="step one" data-x="2500" data-y="0" data-rotate-x="90">
        <q>LET'S START FROM A MOIVE!</q>
      </div>

      <div class="step" data-x="2500" data-y="0" data-z="1000">
        <q>... one day in the future, twelve mysterious spacecraft appear around the world, linguistics professor Louise Banks is tasked with interpreting the language of the apparent alien visitors.</q>
      </div>

      <div class="step" data-x="2500" data-y="0" data-z="1000" data-rotate-x="-90">
        <div style="font-size: 25px; width: 80%">
          <a href="http://www.imdb.com/title/tt2543164/">Arrial (2016)</a>
        </div>
        <img class="right" src="img/arrival.jpg" />
      </div>

      <div class="step multi" data-x="3500" data-y="0">
        <div>DIFFERENT <b>SYNTAX</b>.</div>
        <div>DIFFERENT <b>STRUCTURE</b>.</div>
        <div>DIFFERENT WITH HUMAN'S LANGUAGES.</div>
      </div>

      <div class="step multi" data-x="4500" data-y="0">
        <div>THEY SPEAK IN</div>
        <div>A MORE EXPRESSIVE LANGUAGE</div>
        <div>THAN CAN <b>EXPRESS COMPLEX CONCEPTS EFFICIENTLY</b>.</div>
      </div>

      <div class="step one" data-x="4500" data-y="1000">
        <div><b>ONE</b> MORE EXAMPLE</div>
      </div>

      <div class="step" data-x="4500" data-y="2000">
        <div style="font-size: 25px">
          <a href="https://book.douban.com/subject/26046043/">extinction of human beings</a>
        </div>
        <img class="right" src="img/extinction_of_human.jpg"></img>
      </div>

      <div class="step multi" data-x="4500" data-y="3000">
        <div>THEY SPEAK IN</div>
        <div>A <b>MORE EXPRESSIVE</b> LANGUAGE</div>
        <div>THAN CAN <b style="color: red"><i>EXPRESS COMPLEX CONCEPTS EFFICIENTLY</i></b>.</div>
      </div>

      <div class="step one" data-x="4500" data-y="3000" data-rotate-z="90">
        <b>FICTION?</b>
      </div>

      <div class="step" data-x="4500" data-y="4000">
        <img class="big-pic" src="img/brain.jpg"></img>
      </div>

      <div class="step" data-x="4500" data-y="4000" data-rotate-x="180">
        <div style="width: 600px; height: 500px; background-color: white"><img class="big-pic" src="img/cpu.png"></img></div>
      </div>

      <div class="step" data-x="4500" data-y="5000">
        <div style="font-size: 140px; font-family: monospace;"> >700</div>
      </div>

      <div class="step" data-x="4500" data-y="5000" data-rotate-y="90">
        <img class="big-pic" src="img/trend.png">
      </div>

      <div class="step" data-x="5500" data-y="5000">
        <div style="margin-bottom: 40px">ROUND ONE</div>
        <span style="font-family: monospace"><i>Java</i></span> vs. <span style="font-family: monospace"><i>Prolog</i></span>     
      </div>

      <div class="step slide round-1" data-x="6500" data-y="5000">
        <div class="title"><b>The Merchant's Guide to the Galaxy</b></div>
        <div class="problem">
          <p>You fly all over the galaxy to sell metals and dirt. Buying and selling requires you to convert numbers. The numbers used for intergalactic transactions follows similar convention to the roman numerals.</p>
          <p>Numbers are formed by combining symbols together adding values. generally symbols are placed in order of value, starting with the largest values.</p>
          <p>When smaller values precede lager values, the smailer are placed in order of value, starting with the largest values.</p>
        </div>
        <div class="mapping-table">
          <img style="max-width: 300px; max-height: 400px; width: auto; height: auto" src="img/mapping-table.png"></img>
        </div>
      </div>

      <div class="step slide round-1" data-x="7500" data-y="5000">
        <div class="title"><b>The Merchant's Guide to the Galaxy</b></div>
        <div class="rules">
          <ul>
            <li>The symbols 'I', 'X', 'C', and 'M' can be repeated three times in succession, but no more. (They may appear four times if the third and fourth are separated by a smaller value, such as XXXIX.) 'D', 'L', and 'V' can never be repeated.</li>
            <li>'I' can be subtracted from 'V' and 'X' only. 'X' can be subtracted from 'L' and 'C' only. 'C' can be subtracted from 'D' and 'M' only. 'V', 'L', and 'D' can never be subtracted.</li>
            <li>Only one small-value symbol may be subtracted from any large-value symbol.</li>
            <li>......</li>
          </ul>
        </div>
      </div>

      <div class="step" data-x="7500" data-y="6000">
        <pre class="java" style="height: 500px; overflow: hidden">
	  <div class="scroll" style="height: 2000; position: relative;">
package com.daimler.demo;
import java.util.Arrays;
public class Validator {

    public boolean validate(String number) {
        return doValidate(number.toCharArray());
    }

    private boolean doValidate(char[] chars) {
        if (chars.length == 0) return true;

        if (chars[0] == 'I') {
            if (chars.length >= 3) {
                if (chars[0] == chars[1] && chars[1] == chars[2]) {
                    if (chars.length >= 4 && chars[3] == 'I') return false;
                    return doValidate(Arrays.copyOfRange(chars, 3, chars.length));
                }
            }
        }

        if (chars[0] == 'X') {
            if (chars.length >= 3) {
                if (chars[0] == chars[1] && chars[1] == chars[2]) {
                    if (chars.length >= 4 && chars[3] == 'X') return false;
                    return doValidate(Arrays.copyOfRange(chars, 3, chars.length));
                }
            }
        }

        if (chars[0] == 'C') {
            if (chars.length >= 3) {
                if (chars[0] == chars[1] && chars[1] == chars[2]) {
                    if (chars.length >= 4 && chars[3] == 'C') return false;
                    return doValidate(Arrays.copyOfRange(chars, 3, chars.length));
                }
            }
        }

        if (chars[0] == 'M') {
            if (chars.length >= 4) {
                if (chars[1] == chars[2] && chars[2] == chars[3] && chars[3] == 'M') return false;
                return doValidate(Arrays.copyOfRange(chars, 1, chars.length));
            }
        }        

        if (chars[0] == 'I') {
            if (chars.length >= 2) {
                if (chars[1] != 'X' && chars[1] != 'V') return false;
                return doValidate(Arrays.copyOfRange(chars, 1, chars.length));
            }
        }

        if (chars[0] == 'X') {
            if (chars.length >= 2) {
                if (chars[1] != 'C' && chars[1] != 'L') return false;
                return doValidate(Arrays.copyOfRange(chars, 1, chars.length));
            }
        }

        if (chars[0] == 'C') {
            if (chars.length >= 2) {
                if (chars[1] != 'D' && chars[1] != 'M') return false;
                return doValidate(Arrays.copyOfRange(chars, 1, chars.length));
            }
        }

        if (chars[0] == 'V') {
            if (chars.length >= 2) {
                if (chars[1] == 'L' || chars[1] == 'X' || chars[1] == 'C' || chars[1] == 'D' || chars[1] == 'M') return false;
                return doValidate(Arrays.copyOfRange(chars, 1, chars.length));
            }
        }

        if (chars[0] == 'L') {
            if (chars.length >= 2) {
                if (chars[1] == 'C' || chars[1] == 'D' || chars[1] == 'M') return false;
                return doValidate(Arrays.copyOfRange(chars, 1, chars.length));
            }
        }

        if (chars[0] == 'D') {
            if (chars.length >= 2) {
                if (chars[1] == 'M') return false;
                return doValidate(Arrays.copyOfRange(chars, 1, chars.length));
            }
        }

        return doValidate(Arrays.copyOfRange(chars, 1, chars.length));
    }
}
          </div>
        </pre>
      </div>

      <div class="step" data-x="7500" data-y="7000">
        <pre class="java" style="height: 500px; overflow: hidden">
	  <div class="scroll" style="height: 2000; position: relative;">
package com.daimler.demo;
import org.junit.Test;
import java.util.Arrays;

import static org.junit.Assert.assertEquals;

public class ValidatorTests {

    @Test
    public void validate() {
        final Validator validator = new Validator();

        assertEquals(true, validator.validate(""));

        assertEquals(false, validator.validate("IIII"));
        assertEquals(true, validator.validate("IIIUI"));
        assertEquals(true, validator.validate("III"));

        assertEquals(false, validator.validate("XXXX"));
        assertEquals(true, validator.validate("XXXUX"));
        assertEquals(true, validator.validate("XXX"));

        assertEquals(false, validator.validate("CCCC"));
        assertEquals(true, validator.validate("CCCUC"));
        assertEquals(true, validator.validate("CCC"));

        assertEquals(false, validator.validate("MMMM"));
        assertEquals(true, validator.validate("MMMUM"));
        assertEquals(true, validator.validate("MMM"));

        assertEquals(false, validator.validate("LMMMM"));
        assertEquals(false, validator.validate("LLMMMM"));
        assertEquals(false, validator.validate("LLMMMMLLL"));

        assertEquals(true, validator.validate("CMMMUM"));
        assertEquals(true, validator.validate("MMMUML"));
        assertEquals(true, validator.validate("CMMMUML"));
        assertEquals(true, validator.validate("CMMMUMLL"));

        assertEquals(true, validator.validate("IV"));
        assertEquals(true, validator.validate("IX"));
        assertEquals(false, validator.validate("IL"));
        assertEquals(false, validator.validate("IC"));
        assertEquals(false, validator.validate("ID"));
        assertEquals(false, validator.validate("IM"));
        
        assertEquals(true, validator.validate("XL"));
        assertEquals(true, validator.validate("XC"));
        assertEquals(false, validator.validate("XV"));
        assertEquals(false, validator.validate("XD"));
        assertEquals(false, validator.validate("XU"));
        assertEquals(false, validator.validate("XM"));

        assertEquals(true, validator.validate("CD"));
        assertEquals(true, validator.validate("CM"));
        assertEquals(false, validator.validate("CX"));
        assertEquals(false, validator.validate("CV"));
        assertEquals(false, validator.validate("CU"));
        assertEquals(false, validator.validate("CL"));

        assertEquals(true, validator.validate("VI"));
        assertEquals(false, validator.validate("VX"));
        assertEquals(false, validator.validate("VL"));
        assertEquals(false, validator.validate("VC"));
        assertEquals(false, validator.validate("VD"));
        assertEquals(false, validator.validate("VM"));

        assertEquals(true, validator.validate("LI"));
        assertEquals(true, validator.validate("LV"));
        assertEquals(true, validator.validate("LX"));
        assertEquals(false, validator.validate("LC"));
        assertEquals(false, validator.validate("LD"));
        assertEquals(false, validator.validate("LM"));

        assertEquals(true, validator.validate("DI"));
        assertEquals(true, validator.validate("DV"));
        assertEquals(true, validator.validate("DX"));
        assertEquals(true, validator.validate("DL"));
        assertEquals(true, validator.validate("DC"));
        assertEquals(false, validator.validate("DM"));
    }

}
	  </div>
        </pre>
      </div>

      <div class="step one" data-x="7500" data-y="8000">
        <q>177 lines</q>
      </div>

      <div class="step" data-x="7500" data-y="9000">
        <pre class="prolog">
s_v(i, 1). s_v(v, 5). s_v(x, 10). 
s_v(l, 50). s_v(c, 100). s_v(d, 500).
s_v(m, 1000).

gte(S1, S2) :-
  s_v(S1, V1), s_v(S2, V2),
  not(V1 < V2).

validate(Symbol) :-
  repeat(Symbol), write('repeat validation pass...'), nl,
  sub_constrain(Symbol), write('sub constraint validation pass...'), nl.

repeat([]) :- !.
repeat([_]) :- !.
repeat([_,_]) :- !.
repeat([H,H,H|R]) :- member(H, [i,x,c,m]), not(member(H, R)), repeat(R), !.
repeat([H,H,H,H|_]) :- fail.
repeat([H,H,H,Other,H|R]) :- member(H, [i,x,c,m]), not(member(H,R)), gte(H,Other), repeat(R), !.

sub_constraint([]) :- !.
sub_constraint([_]) :- !.
sub_constraint([F,S|R]) :- gte(F,S), sub_constraint([S|R]).
sub_constraint([i,S|R]) :- member(S, [v,x]), sub_constraint([S|R]).
sub_constraint([x,S|R]) :- member(S, [l,c]), sub_constraint([S|R]).
sub_constraint([c,S|R]) :- member(S, [d,m]), sub_constraint([S|R]).
        </pre>
      </div>

      <div class="step" data-x="7500" data-y="10000">
        25 lines
      </div>

      <div id="comparison" class="step one" data-x="7500" data-y="11000">
        <s class="java">177</s>  vs.  <b class="prolog">25</b>
      </div>

      <div class="step" data-x="8500" data-y="11000">
        <div style="margin-bottom: 40px">ROUND TWO</div>
        <span style="font-family: monospace">MSWord</span> vs. <span style="font-family: monospace">JSON</span>     
      </div>

      <div class="step" data-x="9500" data-y="11000">
        <img src="img/example-infra.png"></img>
      </div>

      <div class="step terraform-sample" data-x="10500" data-y="11000">
        <pre class="terraform" style="float:left">
resource "digitalocean_droplet" "www-1" {
  image = "ubuntu-14-04-x64"
  name = "www-1"
  region = "nyc2"
  size = "512mb"
  private_networking = true

  ssh_keys = [
    "${var.ssh_fingerprint}"
  ]

  connection {
    user = "root"
    type = "ssh"
    key_file = "${var.pvt_key}"
    agent = true
  }

  provisioner "file" {
    source = "installer/nginx.sh"
    destination = "/tmp/nginx.sh"
  }

  provisioner "remote-exec" {
    inline = [
      "sudo bash /tmp/nginx.sh"
    ]
  }
}
        </pre>
        <pre class="terraform" style="float:right">
resource "digitalocean_droplet" "haproxy-www" {
  image = "ubuntu-14-04-x64"
  name = "haproxy-www"
  region = "nyc2"
  size = "512mb"
  private_networking = true
  ssh_keys = [
    "${var.ssh_fingerprint}"
  ]

  connection {
    user = "root"
    type = "ssh"
    key_file = "${var.pvt_key}"
  }

  provisioner "file" {
    source = "installer/haproxy.sh"
    destination = "/tmp/haproxy.sh"
  }

  provisioner "remote-exec" {
    inline = [
      "sudo chmod +x /tmp/haproxy.sh",
      "sudo /tmp/haproxy.sh \
        ${digitalocean_droplet.haproxy-www.ipv4_address} \
        ${digitalocean_droplet.www-1.ipv4_address_private} \
        ${digitalocean_droplet.www-2.ipv4_address_private}"
    ]
  }
}
        </pre>
      </div>

      <div class="step one" data-x="10500" data-y="11000" data-rotate-x="90">
        DEMO (5 min)
      </div>

      <div class="step one" data-x="11500" data-y="11000">
        <div>WHY PROGRAMMING LANGUAGE MATTERS?</div>
      </div>

      <div id="why-language-matters" class="step" data-x="11500" data-y="11000" data-rotate-y="90">
        <img style="float: left" src="img/ice.jpg"></img>
        <div class="language">Java, Golang, Python, R, Clojure ...</div>
        <div class="tool">Docker, Storm, TensorFlow, Chef ...</div>
        <div class="practice">Microservice, Reactive arch, Infra-as-Code, ML ...</div>
        <div class="challenge">Fast-changing business, UX, High load, Better quality ...</div>
      </div>

      <div class="step one" data-x="12500" data-y="11000">
        <q>TRAINING & WORKSHOP @ EVERY 2 MONTHS</q>  
      </div>

      <div class="step" data-x="13500" data-y="11000" data-rotate-x="90">
        <div>EATING YOUR OWN DOG FOOD</div>
        <table id="dogfooding">
          <tr>
            <td class="task">Slide</td>
            <td class="languages">Scheme (1st version), H5/JS/CSS (2nd version)</td>
          </tr>
          <tr>
            <td class="task">Fetching language data</td>
            <td class="languages">Python, Bash</td>
          </tr>
          <tr>
            <td class="task">Histogram</td>
            <td class="languages">R</td>
          </tr>
          <tr>
            <td class="task">Code Demo</td>
            <td class="languages">Java, Prolog, JSON (terraform)</td>
          </tr>
        </table>
        <a style="font-size: 20px" href="https://github.com/isaachan/presentation-of-polyglot-programming.git">https://github.com/isaachan/presentation-of-polyglot-programming.git</a>
      </div>
      

      <div class="step one" data-x="14500" data-y="11000">
        THANK YOU
      </div>

      <div id="overview" class="step" data-x="3000" data-y="1500" data-scale="10"></div>

    </div>

    <script src='js/impress.js'></script>
    <script>
      impress().init();
    </script>
  </body>
</html>
