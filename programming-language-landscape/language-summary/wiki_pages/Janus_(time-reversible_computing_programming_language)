<!DOCTYPE html>
<html class="client-nojs" lang="en" dir="ltr">
<head>
<meta charset="UTF-8"/>
<title>Janus (time-reversible computing programming language) - Wikipedia</title>
<script>document.documentElement.className = document.documentElement.className.replace( /(^|\s)client-nojs(\s|$)/, "$1client-js$2" );</script>
<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgCanonicalNamespace":"","wgCanonicalSpecialPageName":false,"wgNamespaceNumber":0,"wgPageName":"Janus_(time-reversible_computing_programming_language)","wgTitle":"Janus (time-reversible computing programming language)","wgCurRevisionId":753955608,"wgRevisionId":753955608,"wgArticleId":50304039,"wgIsArticle":true,"wgIsRedirect":false,"wgAction":"view","wgUserName":null,"wgUserGroups":["*"],"wgCategories":["Programming languages","Reversible computing"],"wgBreakFrames":false,"wgPageContentLanguage":"en","wgPageContentModel":"wikitext","wgSeparatorTransformTable":["",""],"wgDigitTransformTable":["",""],"wgDefaultDateFormat":"dmy","wgMonthNames":["","January","February","March","April","May","June","July","August","September","October","November","December"],"wgMonthNamesShort":["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],"wgRelevantPageName":"Janus_(time-reversible_computing_programming_language)","wgRelevantArticleId":50304039,"wgRequestId":"WIjP@wpAIDYAACbRfgsAAABO","wgIsProbablyEditable":true,"wgRestrictionEdit":[],"wgRestrictionMove":[],"wgFlaggedRevsParams":{"tags":{}},"wgStableRevisionId":null,"wgWikiEditorEnabledModules":{"toolbar":true,"dialogs":true,"preview":false,"publish":false},"wgBetaFeaturesFeatures":[],"wgMediaViewerOnClick":true,"wgMediaViewerEnabledByDefault":true,"wgVisualEditor":{"pageLanguageCode":"en","pageLanguageDir":"ltr","usePageImages":true,"usePageDescriptions":true},"wgPreferredVariant":"en","wgMFDisplayWikibaseDescriptions":{"search":true,"nearby":true,"watchlist":true,"tagline":true},"wgRelatedArticles":null,"wgRelatedArticlesUseCirrusSearch":true,"wgRelatedArticlesOnlyUseCirrusSearch":false,"wgULSCurrentAutonym":"English","wgNoticeProject":"wikipedia","wgCentralNoticeCookiesToDelete":[],"wgCentralNoticeCategoriesUsingLegacy":["Fundraising","fundraising"],"wgCategoryTreePageCategoryOptions":"{\"mode\":0,\"hideprefix\":20,\"showcount\":true,\"namespaces\":false}","wgWikibaseItemId":"Q25345964","wgCentralAuthMobileDomain":false,"wgVisualEditorToolbarScrollOffset":0,"wgEditSubmitButtonLabelPublish":false});mw.loader.state({"ext.globalCssJs.user.styles":"ready","ext.globalCssJs.site.styles":"ready","site.styles":"ready","noscript":"ready","user.styles":"ready","user":"ready","user.options":"loading","user.tokens":"loading","ext.cite.styles":"ready","ext.pygments":"ready","ext.math.styles":"ready","wikibase.client.init":"ready","ext.visualEditor.desktopArticleTarget.noscript":"ready","ext.uls.interlanguage":"ready","ext.wikimediaBadges":"ready","mediawiki.legacy.shared":"ready","mediawiki.legacy.commonPrint":"ready","mediawiki.sectionAnchor":"ready","mediawiki.skinning.interface":"ready","skins.vector.styles":"ready","ext.globalCssJs.user":"ready","ext.globalCssJs.site":"ready"});mw.loader.implement("user.options@0j3lz3q",function($,jQuery,require,module){mw.user.options.set({"variant":"en"});});mw.loader.implement("user.tokens@1dqfd7l",function ( $, jQuery, require, module ) {
mw.user.tokens.set({"editToken":"+\\","patrolToken":"+\\","watchToken":"+\\","csrfToken":"+\\"});/*@nomin*/;

});mw.loader.load(["ext.cite.a11y","ext.math.scripts","mediawiki.action.view.postEdit","site","mediawiki.page.startup","mediawiki.user","mediawiki.hidpi","mediawiki.page.ready","mediawiki.legacy.wikibits","mediawiki.searchSuggest","ext.gadget.teahouse","ext.gadget.ReferenceTooltips","ext.gadget.watchlist-notice","ext.gadget.DRN-wizard","ext.gadget.charinsert","ext.gadget.refToolbar","ext.gadget.extra-toolbar-buttons","ext.gadget.switcher","ext.gadget.featured-articles-links","ext.centralauth.centralautologin","ext.visualEditor.desktopArticleTarget.init","ext.visualEditor.targetLoader","ext.eventLogging.subscriber","ext.wikimediaEvents","ext.navigationTiming","ext.uls.eventlogger","ext.uls.init","ext.uls.interface","ext.quicksurveys.init","ext.centralNotice.geoIP","ext.centralNotice.startUp","skins.vector.js"]);});</script>
<link rel="stylesheet" href="/w/load.php?debug=false&amp;lang=en&amp;modules=ext.cite.styles%7Cext.math.styles%7Cext.pygments%2CwikimediaBadges%7Cext.uls.interlanguage%7Cext.visualEditor.desktopArticleTarget.noscript%7Cmediawiki.legacy.commonPrint%2Cshared%7Cmediawiki.sectionAnchor%7Cmediawiki.skinning.interface%7Cskins.vector.styles%7Cwikibase.client.init&amp;only=styles&amp;skin=vector"/>
<script async="" src="/w/load.php?debug=false&amp;lang=en&amp;modules=startup&amp;only=scripts&amp;skin=vector"></script>
<meta name="ResourceLoaderDynamicStyles" content=""/>
<link rel="stylesheet" href="/w/load.php?debug=false&amp;lang=en&amp;modules=site.styles&amp;only=styles&amp;skin=vector"/>
<meta name="generator" content="MediaWiki 1.29.0-wmf.8"/>
<meta name="referrer" content="origin-when-cross-origin"/>
<link rel="alternate" href="android-app://org.wikipedia/http/en.m.wikipedia.org/wiki/Janus_(time-reversible_computing_programming_language)"/>
<link rel="alternate" type="application/x-wiki" title="Edit this page" href="/w/index.php?title=Janus_(time-reversible_computing_programming_language)&amp;action=edit"/>
<link rel="edit" title="Edit this page" href="/w/index.php?title=Janus_(time-reversible_computing_programming_language)&amp;action=edit"/>
<link rel="apple-touch-icon" href="/static/apple-touch/wikipedia.png"/>
<link rel="shortcut icon" href="/static/favicon/wikipedia.ico"/>
<link rel="search" type="application/opensearchdescription+xml" href="/w/opensearch_desc.php" title="Wikipedia (en)"/>
<link rel="EditURI" type="application/rsd+xml" href="//en.wikipedia.org/w/api.php?action=rsd"/>
<link rel="copyright" href="//creativecommons.org/licenses/by-sa/3.0/"/>
<link rel="canonical" href="https://en.wikipedia.org/wiki/Janus_(time-reversible_computing_programming_language)"/>
<link rel="dns-prefetch" href="//login.wikimedia.org"/>
<link rel="dns-prefetch" href="//meta.wikimedia.org" />
</head>
<body class="mediawiki ltr sitedir-ltr mw-hide-empty-elt ns-0 ns-subject page-Janus_time-reversible_computing_programming_language rootpage-Janus_time-reversible_computing_programming_language skin-vector action-view">		<div id="mw-page-base" class="noprint"></div>
		<div id="mw-head-base" class="noprint"></div>
		<div id="content" class="mw-body" role="main">
			<a id="top"></a>

							<div id="siteNotice"><!-- CentralNotice --></div>
						<div class="mw-indicators">
</div>
			<h1 id="firstHeading" class="firstHeading" lang="en">Janus (time-reversible computing programming language)</h1>
									<div id="bodyContent" class="mw-body-content">
									<div id="siteSub">From Wikipedia, the free encyclopedia</div>
								<div id="contentSub"></div>
												<div id="jump-to-nav" class="mw-jump">
					Jump to:					<a href="#mw-head">navigation</a>, 					<a href="#p-search">search</a>
				</div>
				<div id="mw-content-text" lang="en" dir="ltr" class="mw-content-ltr"><script>function mfTempOpenSection(id){var block=document.getElementById("mf-section-"+id);block.className+=" open-block";block.previousSibling.className+=" open-block";}</script><table class="infobox vevent" style="width:22em">
<caption class="summary">Janus</caption>
<tr>
<th scope="row"><a href="/wiki/Programming_paradigm" title="Programming paradigm">Paradigm</a></th>
<td><a href="/wiki/Imperative_programming" title="Imperative programming">imperative</a>(<a href="/wiki/Procedural_programming" title="Procedural programming">procedural</a>), <a href="/wiki/Reversible_computing" title="Reversible computing">reversible</a></td>
</tr>
<tr>
<th scope="row"><a href="/wiki/Software_design" title="Software design">Designed&#160;by</a></th>
<td>Christopher Lutz, Howard Derby, Tetsuo Yokoyama, and Robert Glück</td>
</tr>
<tr>
<th scope="row">First&#160;appeared</th>
<td>1982, 2007</td>
</tr>
<tr>
<th scope="row">Website</th>
<td><a rel="nofollow" class="external free" href="http://tetsuo.jp/ref/janus.html">http://tetsuo.jp/ref/janus.html</a></td>
</tr>
<tr>
<th colspan="2" style="text-align:center;background-color: #eee;">Major <a href="/wiki/Programming_language_implementation" title="Programming language implementation">implementations</a></th>
</tr>
<tr>
<td colspan="2" style="text-align:center"><a rel="nofollow" class="external free" href="http://topps.diku.dk/pirc/janus-playground/">http://topps.diku.dk/pirc/janus-playground/</a></td>
</tr>
</table>
<p><b>Janus</b> is a <a href="/wiki/Reversible_computing" title="Reversible computing">time-reversible</a> programming language written at <a href="/wiki/Caltech" class="mw-redirect" title="Caltech">Caltech</a> in 1982.<sup id="cite_ref-1" class="reference"><a href="#cite_note-1">[1]</a></sup> The <a href="/wiki/Operational_semantics" title="Operational semantics">operational semantics</a> of the language were formally specified, together with a <a href="/w/index.php?title=Program_inverter&amp;action=edit&amp;redlink=1" class="new" title="Program inverter (page does not exist)">program inverter</a> and an invertible <a href="/wiki/Self-interpreter" class="mw-redirect" title="Self-interpreter">self-interpreter</a>, in 2007 by Tetsuo Yokoyama and Robert Glück.<sup id="cite_ref-diku_2-0" class="reference"><a href="#cite_note-diku-2">[2]</a></sup> A Janus inverter and interpreter is made freely available by the <a href="/wiki/TOPPS_(research_group)" title="TOPPS (research group)">TOPPS research group</a> at <a href="/wiki/DIKU" class="mw-redirect" title="DIKU">DIKU</a>.<sup id="cite_ref-interpreter_3-0" class="reference"><a href="#cite_note-interpreter-3">[3]</a></sup> The below summarises the language presented in the 2007 paper.</p>
<p>Janus is an imperative programming language with a global store (there is no stack or heap allocation). Janus is a reversible programming language, i.e. it supports deterministic forward and backward computation by local inversion.</p>
<h2><span class="mw-headline" id="Syntax">Syntax</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Janus_(time-reversible_computing_programming_language)&amp;action=edit&amp;section=1" title="Edit section: Syntax">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>We specify the syntax of Janus using <a href="/wiki/Backus%E2%80%93Naur_form" title="Backus–Naur form">Backus–Naur form</a>.</p>
<p>A Janus program is a sequence of one or more variable declarations, followed by a sequence of one or more procedure declarations:</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
<span class="p">&lt;</span><span class="nc">program</span><span class="p">&gt;</span> <span class="o">::=</span> <span class="p">&lt;</span><span class="nc">v-decl</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nc">v-decls</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nc">p-decl</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nc">p-decls</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nc">v-decls</span><span class="p">&gt;</span> <span class="o">::=</span> <span class="p">&lt;</span><span class="nc">v-decl</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nc">v-decls</span><span class="p">&gt;</span> | ""
<span class="p">&lt;</span><span class="nc">p-decls</span><span class="p">&gt;</span> <span class="o">::=</span> <span class="p">&lt;</span><span class="nc">p-decl</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nc">p-decls</span><span class="p">&gt;</span> | ""
</pre></div>
<p>Note, Janus as specified in the 2007 paper,<sup id="cite_ref-diku_2-1" class="reference"><a href="#cite_note-diku-2">[2]</a></sup> allows zero or more variables, but a program that starts with an empty store, produces an empty store. A program that does nothing is trivially invertible, and not interesting in practice.</p>
<p>A variable declaration defines either a variable or a one-dimensional array:</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
<span class="p">&lt;</span><span class="nc">v-decl</span><span class="p">&gt;</span> <span class="o">::=</span> <span class="p">&lt;</span><span class="nc">v</span><span class="p">&gt;</span> | <span class="p">&lt;</span><span class="nc">v</span><span class="p">&gt;</span> "[" <span class="p">&lt;</span><span class="nc">c</span><span class="p">&gt;</span> "]"
</pre></div>
<p>Note, variable declarations carry no type information. This is because all values (and all constants) in Janus are non-negative 32-bit integers, so all values are between 0 and 2<sup>32</sup> − 1 = 4294967295. Note however, that the Janus interpreter hosted by <a href="/wiki/TOPPS_(research_group)" title="TOPPS (research group)">TOPPS</a> uses regular <a href="/wiki/Two%27s_complement" title="Two's complement">two's complement</a> 32-bit integers, so all values there are between −2<sup>31</sup> = −2147483648 and 2<sup>31</sup> − 1 = 2147483647. All variables are initialized to the value 0.</p>
<p>There are no theoretical bounds to the sizes of arrays, but the said interpreter demands a size of at least 1.<sup id="cite_ref-interpreter_3-1" class="reference"><a href="#cite_note-interpreter-3">[3]</a></sup></p>
<p>A procedure declaration consists of the keyword <code>procedure</code>, followed by a unique procedure identifier and a statement:</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
<span class="p">&lt;</span><span class="nc">p-decl</span><span class="p">&gt;</span> <span class="o">::=</span> "procedure" <span class="p">&lt;</span><span class="nc">id</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nc">s</span><span class="p">&gt;</span>
</pre></div>
<p>The entry point of a Janus program is a procedure named <tt>main</tt>. If no such procedure exists, the last procedure in the program text is the entry point.</p>
<p>A statement is either an assignment, a swap, an if-then-else, a loop, a procedure call, a procedure uncall, a skip, or a sequence of statements:</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
<span class="p">&lt;</span><span class="nc">s</span><span class="p">&gt;</span> := <span class="p">&lt;</span><span class="nc">x</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nc">mod-op</span><span class="p">&gt;</span> "=" <span class="p">&lt;</span><span class="nc">e</span><span class="p">&gt;</span> | <span class="p">&lt;</span><span class="nc">x</span><span class="p">&gt;</span> "[" <span class="p">&lt;</span><span class="nc">e</span><span class="p">&gt;</span> "]" <span class="p">&lt;</span><span class="nc">mod-op</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nc">e</span><span class="p">&gt;</span>
     | <span class="p">&lt;</span><span class="nc">x</span><span class="p">&gt;</span> "<span class="p">&lt;</span><span class="nc">=</span><span class="p">&gt;</span>" <span class="p">&lt;</span><span class="nc">x</span><span class="p">&gt;</span>
     | "if" <span class="p">&lt;</span><span class="nc">e</span><span class="p">&gt;</span> "then" <span class="p">&lt;</span><span class="nc">s</span><span class="p">&gt;</span> "else" <span class="p">&lt;</span><span class="nc">s</span><span class="p">&gt;</span> "fi" <span class="p">&lt;</span><span class="nc">e</span><span class="p">&gt;</span>
     | "from" <span class="p">&lt;</span><span class="nc">e</span><span class="p">&gt;</span> "do" <span class="p">&lt;</span><span class="nc">s</span><span class="p">&gt;</span> "loop" <span class="p">&lt;</span><span class="nc">s</span><span class="p">&gt;</span> "until" <span class="p">&lt;</span><span class="nc">e</span><span class="p">&gt;</span>
     | "call" <span class="p">&lt;</span><span class="nc">id</span><span class="p">&gt;</span> | "uncall" <span class="p">&lt;</span><span class="nc">id</span><span class="p">&gt;</span>
     | "skip"
     | <span class="p">&lt;</span><span class="nc">s</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nc">s</span><span class="p">&gt;</span>
</pre></div>
<p>For assignments to be reversible, it is demanded that the variable on the left-hand side does not appear in the expressions on either side of the assignment. (Note, array cell assignment has an expression on both sides of the assignment.)</p>
<p>A swap (<code>&lt;x&gt; "&lt;=&gt;" &lt;x&gt;</code>) is trivially reversible.</p>
<p>For conditionals to be reversible, we provide both a <i>test</i> (the <code>&lt;e&gt;</code> after <code>"if"</code>) and an <i>assertion</i> (the <code>&lt;e&gt;</code> after <code>"fi"</code>). The semantics is that the test <i>must</i> hold before the execution of the then-branch, and the assertion <i>must</i> hold after it. Conversely, the test <i>must not</i> hold before the execution of the else-branch, and the assertion <i>must not</i> hold after it. In the inverted program, the assertion becomes the test, and the test becomes the assertion. (Note, Since all values in Janus are integers, the usual C-semantics that 0 indicates false are employed.)</p>
<p>For loops to be reversible, we similarly provide an assertion (the <code>&lt;e&gt;</code> after <code>"from"</code>) and a test (the <code>&lt;e&gt;</code> after <code>"until"</code>). The semantics is that the assertion must hold <i>only on entry</i> to the loop, and the test must hold <i>only on exit</i> from the loop. In the inverted program, the assertion becomes the test, and the test becomes the assertion. An additional <code>&lt;e&gt;</code> after <code>"loop"</code> allows to perform work after the test is evaluated to false. The work should ensure that the assertion is false subsequently.</p>
<p>A procedure <i>call</i> executes the statements of a procedure in a forward direction. A procedure <i>uncall</i> executes the statements of a procedure in the backward direction. There are no parameters to procedures, so all variable passing is done by side-effects on the global store.</p>
<p>An expression is a constant (integer), a variable, an indexed variable, or an application of a binary operation:</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
<span class="p">&lt;</span><span class="nc">e</span><span class="p">&gt;</span> <span class="o">::=</span> <span class="p">&lt;</span><span class="nc">c</span><span class="p">&gt;</span> | <span class="p">&lt;</span><span class="nc">x</span><span class="p">&gt;</span> | <span class="p">&lt;</span><span class="nc">x</span><span class="p">&gt;</span> "[" <span class="p">&lt;</span><span class="nc">e</span><span class="p">&gt;</span> "]" | <span class="p">&lt;</span><span class="nc">e</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nc">bin-op</span><span class="p">&gt;</span> <span class="p">&lt;</span><span class="nc">e</span><span class="p">&gt;</span>
</pre></div>
<p>The constants in Janus (and the Janus interpreter hosted by <a href="/wiki/TOPPS_(research_group)" title="TOPPS (research group)">TOPPS</a>) have already been discussed above.</p>
<p>A binary operator is one of the following, having semantics similar to their C counterparts:</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
<span class="p">&lt;</span><span class="nc">bin-op</span><span class="p">&gt;</span> <span class="o">::=</span> "+" | "-" | "^" | "*" | "/" | "%" | "&amp;" | "|" | "&amp;&amp;" | "||" | "&gt;" | "&lt;" | "=" | "!=" | "<span class="p">&lt;</span><span class="nc">=" | "</span><span class="p">&gt;</span>="
</pre></div>
<p>The modification operators are a subset of the binary operators such that for all v, <span><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" >
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mi>&#x03BB;<!-- λ --></mi>
        <msup>
          <mi>v</mi>
          <mo>&#x2032;</mo>
        </msup>
        <mo>.</mo>
        <mo>&#x2295;<!-- ⊕ --></mo>
        <mrow>
          <mo>(</mo>
          <msup>
            <mi>v</mi>
            <mo>&#x2032;</mo>
          </msup>
          <mo>,</mo>
          <mi>v</mi>
          <mo>)</mo>
        </mrow>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \lambda v'.\oplus \left(v',v\right)}</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/547aa77a6d2e5da913505b4e6400c9e6b36e5747" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.838ex; width:12.289ex; height:3.009ex;" alt="\lambda v&#039;.\oplus \left(v&#039;,v\right)" /></span> is a bijective function, and hence invertible, where <span><span class="mwe-math-mathml-inline mwe-math-mathml-a11y" style="display: none;"><math xmlns="http://www.w3.org/1998/Math/MathML" >
  <semantics>
    <mrow class="MJX-TeXAtom-ORD">
      <mstyle displaystyle="true" scriptlevel="0">
        <mo>&#x2295;<!-- ⊕ --></mo>
      </mstyle>
    </mrow>
    <annotation encoding="application/x-tex">{\displaystyle \oplus }</annotation>
  </semantics>
</math></span><img src="https://wikimedia.org/api/rest_v1/media/math/render/svg/8b16e2bdaefee9eed86d866e6eba3ac47c710f60" class="mwe-math-fallback-image-inline" aria-hidden="true" style="vertical-align: -0.505ex; width:1.819ex; height:2.176ex;" alt="\oplus " /></span> is a modification operator:</p>
<div class="mw-highlight mw-content-ltr" dir="ltr">
<pre>
<span class="p">&lt;</span><span class="nc">mod-op</span><span class="p">&gt;</span> <span class="o">::=</span> "+" | "-" | "^"
</pre></div>
<p>The inverse functions are <code>"-"</code>, <code>"+"</code>, and <code>"^"</code>, respectively.</p>
<p>The restriction that the variable assigned to does not appear in an expression on either side of the assignment allows us to prove that the inference system of Janus is forward and backward deterministic.</p>
<h2><span class="mw-headline" id="Example">Example</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Janus_(time-reversible_computing_programming_language)&amp;action=edit&amp;section=2" title="Edit section: Example">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<p>We write a Janus procedure <tt>fib</tt> to find the <i>n</i>-th <a href="/wiki/Fibonacci_sequence" class="mw-redirect" title="Fibonacci sequence">Fibonacci number</a>, for n&gt;2, i=n, x1=1, and x2=1:</p>
<pre>
procedure fib
  from i = n
  do
    x1 += x2
    x1 &lt;=&gt; x2
    i -= 1
  until i = 2
</pre>
<p>Upon termination, <tt>x1</tt> is the (<i>n</i>−1)-th Fibonacci number and <tt>x2</tt> is the n<sup>th</sup> Fibonacci number. <tt>i</tt> is an iterator variable that goes from n to 2. As <tt>i</tt> is decremented in every iteration, the assumption (<code>i = n</code>) is only true prior to the first iteration. The test is (<code>i = 2</code>) is only true after the last iteration of the loop (assuming i &gt; 2).</p>
<p>Assuming the following prelude to the procedure, we end up with the 4th Fibonacci number in <tt>x2</tt>:</p>
<pre>
i n x1 x2
procedure main
    n += 4
    i += n
    x1 += 1
    x2 += 1
    call fib
</pre>
<p>Note, our main would have to do a bit more work if we were to make it handle n≤2, especially negative integers.</p>
<p>The inverse of <tt>fib</tt> is:</p>
<pre>
procedure fib
    from  i = 2
    do
        i += 1
        x1 &lt;=&gt; x2
        x1 -= x2
    loop
    until i = n
</pre>
<p>As you can see, Janus performs local inversion, where the loop test and assertion are swapped, the order of statements is reversed, and every statement in the loop is itself reversed. The reverse program can be used to find n when x1 is the (n-1)<sup>th</sup> and x2 is the n<sup>th</sup> Fibonacci number.</p>
<h2><span class="mw-headline" id="References">References</span><span class="mw-editsection"><span class="mw-editsection-bracket">[</span><a href="/w/index.php?title=Janus_(time-reversible_computing_programming_language)&amp;action=edit&amp;section=3" title="Edit section: References">edit</a><span class="mw-editsection-bracket">]</span></span></h2>
<div class="reflist" style="list-style-type: decimal;">
<ol class="references">
<li id="cite_note-1"><span class="mw-cite-backlink"><b><a href="#cite_ref-1">^</a></b></span> <span class="reference-text">Christopher Lutz. Janus: a time-reversible language. 1986. <i>Letter to R. Landauer</i>. <a rel="nofollow" class="external free" href="http://tetsuo.jp/ref/janus.html">http://tetsuo.jp/ref/janus.html</a>.</span></li>
<li id="cite_note-diku-2"><span class="mw-cite-backlink">^ <a href="#cite_ref-diku_2-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-diku_2-1"><sup><i><b>b</b></i></sup></a></span> <span class="reference-text">Tetsuo Yokoyama and Robert Glück. 2007. A reversible programming language and its invertible self-interpreter. In <i>Proceedings of the 2007 ACM SIGPLAN symposium on Partial evaluation and semantics-based program manipulation</i> (PEPM '07). ACM, New York, NY, USA, 144-153. <a rel="nofollow" class="external free" href="http://doi.acm.org/10.1145/1244381.1244404">http://doi.acm.org/10.1145/1244381.1244404</a></span></li>
<li id="cite_note-interpreter-3"><span class="mw-cite-backlink">^ <a href="#cite_ref-interpreter_3-0"><sup><i><b>a</b></i></sup></a> <a href="#cite_ref-interpreter_3-1"><sup><i><b>b</b></i></sup></a></span> <span class="reference-text"><a rel="nofollow" class="external free" href="http://topps.diku.dk/pirc/janus-playground/">http://topps.diku.dk/pirc/janus-playground/</a></span></li>
</ol>
</div>


<!-- 
NewPP limit report
Parsed by mw1224
Cached time: 20170121151633
Cache expiry: 2592000
Dynamic content: false
CPU time usage: 0.068 seconds
Real time usage: 0.388 seconds
Preprocessor visited node count: 396/1000000
Preprocessor generated node count: 0/1500000
Post‐expand include size: 2724/2097152 bytes
Template argument size: 425/2097152 bytes
Highest expansion depth: 10/40
Expensive parser function count: 2/500
Lua time usage: 0.015/10.000 seconds
Lua memory usage: 786 KB/50 MB
-->
<!--
Transclusion expansion time report (%,ms,calls,template)
100.00%  324.839      1 -total
 13.60%   44.179      1 Template:Infobox_programming_language
 12.10%   39.321      1 Template:Infobox
  1.64%    5.313      1 Template:Reflist
  1.40%    4.543      1 Template:Infobox_software/simple
-->

<!-- Saved in parser cache with key enwiki:pcache:idhash:50304039-0!*!0!!*!*!*!math=5 and timestamp 20170121151632 and revision id 753955608
 -->
<noscript><img src="//en.wikipedia.org/wiki/Special:CentralAutoLogin/start?type=1x1" alt="" title="" width="1" height="1" style="border: none; position: absolute;" /></noscript></div>					<div class="printfooter">
						Retrieved from "<a dir="ltr" href="https://en.wikipedia.org/w/index.php?title=Janus_(time-reversible_computing_programming_language)&amp;oldid=753955608">https://en.wikipedia.org/w/index.php?title=Janus_(time-reversible_computing_programming_language)&amp;oldid=753955608</a>"					</div>
				<div id="catlinks" class="catlinks" data-mw="interface"><div id="mw-normal-catlinks" class="mw-normal-catlinks"><a href="/wiki/Help:Category" title="Help:Category">Categories</a>: <ul><li><a href="/wiki/Category:Programming_languages" title="Category:Programming languages">Programming languages</a></li><li><a href="/wiki/Category:Reversible_computing" title="Category:Reversible computing">Reversible computing</a></li></ul></div></div>				<div class="visualClear"></div>
							</div>
		</div>
		<div id="mw-navigation">
			<h2>Navigation menu</h2>

			<div id="mw-head">
									<div id="p-personal" role="navigation" class="" aria-labelledby="p-personal-label">
						<h3 id="p-personal-label">Personal tools</h3>
						<ul>
							<li id="pt-anonuserpage">Not logged in</li><li id="pt-anontalk"><a href="/wiki/Special:MyTalk" title="Discussion about edits from this IP address [n]" accesskey="n">Talk</a></li><li id="pt-anoncontribs"><a href="/wiki/Special:MyContributions" title="A list of edits made from this IP address [y]" accesskey="y">Contributions</a></li><li id="pt-createaccount"><a href="/w/index.php?title=Special:CreateAccount&amp;returnto=Janus+%28time-reversible+computing+programming+language%29" title="You are encouraged to create an account and log in; however, it is not mandatory">Create account</a></li><li id="pt-login"><a href="/w/index.php?title=Special:UserLogin&amp;returnto=Janus+%28time-reversible+computing+programming+language%29" title="You're encouraged to log in; however, it's not mandatory. [o]" accesskey="o">Log in</a></li>						</ul>
					</div>
									<div id="left-navigation">
										<div id="p-namespaces" role="navigation" class="vectorTabs" aria-labelledby="p-namespaces-label">
						<h3 id="p-namespaces-label">Namespaces</h3>
						<ul>
															<li  id="ca-nstab-main" class="selected"><span><a href="/wiki/Janus_(time-reversible_computing_programming_language)"  title="View the content page [c]" accesskey="c">Article</a></span></li>
															<li  id="ca-talk"><span><a href="/wiki/Talk:Janus_(time-reversible_computing_programming_language)"  title="Discussion about the content page [t]" accesskey="t" rel="discussion">Talk</a></span></li>
													</ul>
					</div>
										<div id="p-variants" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-variants-label">
												<h3 id="p-variants-label">
							<span>Variants</span><a href="#"></a>
						</h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
									</div>
				<div id="right-navigation">
										<div id="p-views" role="navigation" class="vectorTabs" aria-labelledby="p-views-label">
						<h3 id="p-views-label">Views</h3>
						<ul>
															<li id="ca-view" class="selected"><span><a href="/wiki/Janus_(time-reversible_computing_programming_language)" >Read</a></span></li>
															<li id="ca-edit"><span><a href="/w/index.php?title=Janus_(time-reversible_computing_programming_language)&amp;action=edit"  title="Edit this page [e]" accesskey="e">Edit</a></span></li>
															<li id="ca-history" class="collapsible"><span><a href="/w/index.php?title=Janus_(time-reversible_computing_programming_language)&amp;action=history"  title="Past revisions of this page [h]" accesskey="h">View history</a></span></li>
													</ul>
					</div>
										<div id="p-cactions" role="navigation" class="vectorMenu emptyPortlet" aria-labelledby="p-cactions-label">
						<h3 id="p-cactions-label"><span>More</span><a href="#"></a></h3>

						<div class="menu">
							<ul>
															</ul>
						</div>
					</div>
										<div id="p-search" role="search">
						<h3>
							<label for="searchInput">Search</label>
						</h3>

						<form action="/w/index.php" id="searchform">
							<div id="simpleSearch">
							<input type="search" name="search" placeholder="Search Wikipedia" title="Search Wikipedia [f]" accesskey="f" id="searchInput"/><input type="hidden" value="Special:Search" name="title"/><input type="submit" name="fulltext" value="Search" title="Search Wikipedia for this text" id="mw-searchButton" class="searchButton mw-fallbackSearchButton"/><input type="submit" name="go" value="Go" title="Go to a page with this exact name if it exists" id="searchButton" class="searchButton"/>							</div>
						</form>
					</div>
									</div>
			</div>
			<div id="mw-panel">
				<div id="p-logo" role="banner"><a class="mw-wiki-logo" href="/wiki/Main_Page"  title="Visit the main page"></a></div>
						<div class="portal" role="navigation" id='p-navigation' aria-labelledby='p-navigation-label'>
			<h3 id='p-navigation-label'>Navigation</h3>

			<div class="body">
									<ul>
						<li id="n-mainpage-description"><a href="/wiki/Main_Page" title="Visit the main page [z]" accesskey="z">Main page</a></li><li id="n-contents"><a href="/wiki/Portal:Contents" title="Guides to browsing Wikipedia">Contents</a></li><li id="n-featuredcontent"><a href="/wiki/Portal:Featured_content" title="Featured content – the best of Wikipedia">Featured content</a></li><li id="n-currentevents"><a href="/wiki/Portal:Current_events" title="Find background information on current events">Current events</a></li><li id="n-randompage"><a href="/wiki/Special:Random" title="Load a random article [x]" accesskey="x">Random article</a></li><li id="n-sitesupport"><a href="https://donate.wikimedia.org/wiki/Special:FundraiserRedirector?utm_source=donate&amp;utm_medium=sidebar&amp;utm_campaign=C13_en.wikipedia.org&amp;uselang=en" title="Support us">Donate to Wikipedia</a></li><li id="n-shoplink"><a href="//shop.wikimedia.org" title="Visit the Wikipedia store">Wikipedia store</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-interaction' aria-labelledby='p-interaction-label'>
			<h3 id='p-interaction-label'>Interaction</h3>

			<div class="body">
									<ul>
						<li id="n-help"><a href="/wiki/Help:Contents" title="Guidance on how to use and edit Wikipedia">Help</a></li><li id="n-aboutsite"><a href="/wiki/Wikipedia:About" title="Find out about Wikipedia">About Wikipedia</a></li><li id="n-portal"><a href="/wiki/Wikipedia:Community_portal" title="About the project, what you can do, where to find things">Community portal</a></li><li id="n-recentchanges"><a href="/wiki/Special:RecentChanges" title="A list of recent changes in the wiki [r]" accesskey="r">Recent changes</a></li><li id="n-contactpage"><a href="//en.wikipedia.org/wiki/Wikipedia:Contact_us" title="How to contact Wikipedia">Contact page</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-tb' aria-labelledby='p-tb-label'>
			<h3 id='p-tb-label'>Tools</h3>

			<div class="body">
									<ul>
						<li id="t-whatlinkshere"><a href="/wiki/Special:WhatLinksHere/Janus_(time-reversible_computing_programming_language)" title="List of all English Wikipedia pages containing links to this page [j]" accesskey="j">What links here</a></li><li id="t-recentchangeslinked"><a href="/wiki/Special:RecentChangesLinked/Janus_(time-reversible_computing_programming_language)" rel="nofollow" title="Recent changes in pages linked from this page [k]" accesskey="k">Related changes</a></li><li id="t-upload"><a href="/wiki/Wikipedia:File_Upload_Wizard" title="Upload files [u]" accesskey="u">Upload file</a></li><li id="t-specialpages"><a href="/wiki/Special:SpecialPages" title="A list of all special pages [q]" accesskey="q">Special pages</a></li><li id="t-permalink"><a href="/w/index.php?title=Janus_(time-reversible_computing_programming_language)&amp;oldid=753955608" title="Permanent link to this revision of the page">Permanent link</a></li><li id="t-info"><a href="/w/index.php?title=Janus_(time-reversible_computing_programming_language)&amp;action=info" title="More information about this page">Page information</a></li><li id="t-wikibase"><a href="https://www.wikidata.org/wiki/Q25345964" title="Link to connected data repository item [g]" accesskey="g">Wikidata item</a></li><li id="t-cite"><a href="/w/index.php?title=Special:CiteThisPage&amp;page=Janus_%28time-reversible_computing_programming_language%29&amp;id=753955608" title="Information on how to cite this page">Cite this page</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-coll-print_export' aria-labelledby='p-coll-print_export-label'>
			<h3 id='p-coll-print_export-label'>Print/export</h3>

			<div class="body">
									<ul>
						<li id="coll-create_a_book"><a href="/w/index.php?title=Special:Book&amp;bookcmd=book_creator&amp;referer=Janus+%28time-reversible+computing+programming+language%29">Create a book</a></li><li id="coll-download-as-rdf2latex"><a href="/w/index.php?title=Special:Book&amp;bookcmd=render_article&amp;arttitle=Janus+%28time-reversible+computing+programming+language%29&amp;returnto=Janus+%28time-reversible+computing+programming+language%29&amp;oldid=753955608&amp;writer=rdf2latex">Download as PDF</a></li><li id="t-print"><a href="/w/index.php?title=Janus_(time-reversible_computing_programming_language)&amp;printable=yes" title="Printable version of this page [p]" accesskey="p">Printable version</a></li>					</ul>
							</div>
		</div>
			<div class="portal" role="navigation" id='p-lang' aria-labelledby='p-lang-label'>
			<h3 id='p-lang-label'>Languages</h3>

			<div class="body">
									<ul>
											</ul>
				<div class='after-portlet after-portlet-lang'><span class="wb-langlinks-add wb-langlinks-link"><a href="https://www.wikidata.org/wiki/Q25345964#sitelinks-wikipedia" title="Add interlanguage links" class="wbc-editpage">Add links</a></span></div>			</div>
		</div>
				</div>
		</div>
		<div id="footer" role="contentinfo">
							<ul id="footer-info">
											<li id="footer-info-lastmod"> This page was last modified on 10 December 2016, at 00:44.</li>
											<li id="footer-info-copyright">Text is available under the <a rel="license" href="//en.wikipedia.org/wiki/Wikipedia:Text_of_Creative_Commons_Attribution-ShareAlike_3.0_Unported_License">Creative Commons Attribution-ShareAlike License</a><a rel="license" href="//creativecommons.org/licenses/by-sa/3.0/" style="display:none;"></a>;
additional terms may apply.  By using this site, you agree to the <a href="//wikimediafoundation.org/wiki/Terms_of_Use">Terms of Use</a> and <a href="//wikimediafoundation.org/wiki/Privacy_policy">Privacy Policy</a>. Wikipedia® is a registered trademark of the <a href="//www.wikimediafoundation.org/">Wikimedia Foundation, Inc.</a>, a non-profit organization.</li>
									</ul>
							<ul id="footer-places">
											<li id="footer-places-privacy"><a href="https://wikimediafoundation.org/wiki/Privacy_policy" class="extiw" title="wmf:Privacy policy">Privacy policy</a></li>
											<li id="footer-places-about"><a href="/wiki/Wikipedia:About" title="Wikipedia:About">About Wikipedia</a></li>
											<li id="footer-places-disclaimer"><a href="/wiki/Wikipedia:General_disclaimer" title="Wikipedia:General disclaimer">Disclaimers</a></li>
											<li id="footer-places-contact"><a href="//en.wikipedia.org/wiki/Wikipedia:Contact_us">Contact Wikipedia</a></li>
											<li id="footer-places-developers"><a href="https://www.mediawiki.org/wiki/Special:MyLanguage/How_to_contribute">Developers</a></li>
											<li id="footer-places-cookiestatement"><a href="https://wikimediafoundation.org/wiki/Cookie_statement">Cookie statement</a></li>
											<li id="footer-places-mobileview"><a href="//en.m.wikipedia.org/w/index.php?title=Janus_(time-reversible_computing_programming_language)&amp;mobileaction=toggle_view_mobile" class="noprint stopMobileRedirectToggle">Mobile view</a></li>
									</ul>
										<ul id="footer-icons" class="noprint">
											<li id="footer-copyrightico">
							<a href="https://wikimediafoundation.org/"><img src="/static/images/wikimedia-button.png" srcset="/static/images/wikimedia-button-1.5x.png 1.5x, /static/images/wikimedia-button-2x.png 2x" width="88" height="31" alt="Wikimedia Foundation"/></a>						</li>
											<li id="footer-poweredbyico">
							<a href="//www.mediawiki.org/"><img src="/static/images/poweredby_mediawiki_88x31.png" alt="Powered by MediaWiki" srcset="/static/images/poweredby_mediawiki_132x47.png 1.5x, /static/images/poweredby_mediawiki_176x62.png 2x" width="88" height="31"/></a>						</li>
									</ul>
						<div style="clear:both"></div>
		</div>
		<script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgPageParseReport":{"limitreport":{"cputime":"0.068","walltime":"0.388","ppvisitednodes":{"value":396,"limit":1000000},"ppgeneratednodes":{"value":0,"limit":1500000},"postexpandincludesize":{"value":2724,"limit":2097152},"templateargumentsize":{"value":425,"limit":2097152},"expansiondepth":{"value":10,"limit":40},"expensivefunctioncount":{"value":2,"limit":500},"entityaccesscount":{"value":0,"limit":400},"timingprofile":["100.00%  324.839      1 -total"," 13.60%   44.179      1 Template:Infobox_programming_language"," 12.10%   39.321      1 Template:Infobox","  1.64%    5.313      1 Template:Reflist","  1.40%    4.543      1 Template:Infobox_software/simple"]},"scribunto":{"limitreport-timeusage":{"value":"0.015","limit":"10.000"},"limitreport-memusage":{"value":804393,"limit":52428800}},"cachereport":{"origin":"mw1224","timestamp":"20170121151633","ttl":2592000,"transientcontent":false}}});});</script><script>(window.RLQ=window.RLQ||[]).push(function(){mw.config.set({"wgBackendResponseTime":52,"wgHostname":"mw1184"});});</script>
	</body>
</html>
